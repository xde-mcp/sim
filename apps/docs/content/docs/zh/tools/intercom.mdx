---
title: Intercom
description: 在 Intercom 中管理联系人、公司、对话、工单和消息
---

import { BlockInfoCard } from "@/components/ui/block-info-card"

<BlockInfoCard 
  type="intercom"
  color="#E0E0E0"
/>

{/* MANUAL-CONTENT-START:intro */}
[Intercom](https://www.intercom.com/) 是一个领先的客户沟通平台，能够让您在一个地方管理和自动化与联系人、公司、对话、工单和消息的互动。Sim 中的 Intercom 集成让您的代理可以通过自动化工作流以编程方式管理客户关系、支持请求和对话。

使用 Intercom 工具，您可以：

- **联系人管理：** 创建、获取、更新、列出、搜索和删除联系人——自动化您的 CRM 流程并保持客户记录的最新。
- **公司管理：** 创建新公司、检索公司详细信息，并列出与您的用户或业务客户相关的所有公司。
- **对话处理：** 获取、列出、回复和搜索对话——让代理能够跟踪正在进行的支持线程、提供答案并自动执行后续操作。
- **工单管理：** 以编程方式创建和检索工单，帮助您自动化客户服务、支持问题跟踪和工作流升级。
- **发送消息：** 向用户或潜在客户触发消息，用于入职、支持或营销，所有这些都可以在您的工作流自动化中完成。

通过将 Intercom 工具集成到 Sim 中，您可以让工作流直接与用户沟通，自动化客户支持流程，管理潜在客户，并大规模简化沟通。无论您是需要创建新联系人、保持客户数据同步、管理支持工单，还是发送个性化的参与消息，Intercom 工具都提供了一种全面的方式，将客户互动管理作为智能自动化的一部分。
{/* MANUAL-CONTENT-END */}

## 使用说明

将 Intercom 集成到工作流中。可以创建、获取、更新、列出、搜索和删除联系人；创建、获取和列出公司；获取、列出、回复和搜索对话；创建和获取工单；以及创建消息。

## 工具

### `intercom_create_contact`

使用 email、external_id 或 role 在 Intercom 中创建一个新联系人

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `role` | string | 否 | 联系人角色。可选 'user' 或 'lead'。如未指定，默认为 'lead'。 |
| `email` | string | 否 | 联系人邮箱地址 |
| `external_id` | string | 否 | 客户端为联系人提供的唯一标识符 |
| `phone` | string | 否 | 联系人电话号码 |
| `name` | string | 否 | 联系人姓名 |
| `avatar` | string | 否 | 联系人头像图片 URL |
| `signed_up_at` | number | 否 | 用户注册时间（Unix 时间戳） |
| `last_seen_at` | number | 否 | 用户最后一次在线时间（Unix 时间戳） |
| `owner_id` | string | 否 | 被分配为该联系人账户所有者的管理员 ID |
| `unsubscribed_from_emails` | boolean | 否 | 联系人是否已退订邮件 |
| `custom_attributes` | string | 否 | 自定义属性，格式为 JSON 对象（如：\{"attribute_name": "value"\}） |
| `company_id` | string | 否 | 创建联系人时关联的公司 ID |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `contact` | object | 创建的联系人对象 |

### `intercom_get_contact`

通过 ID 从 Intercom 获取单个联系人

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `contactId` | string | 是 | 要检索的联系人 ID |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `contact` | object | 联系人对象 |

### `intercom_update_contact`

更新 Intercom 中的现有联系人

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `contactId` | string | 是 | 要更新的联系人 ID |
| `role` | string | 否 | 联系人角色。可选 'user' 或 'lead'。 |
| `external_id` | string | 否 | 客户端为联系人提供的唯一标识符 |
| `email` | string | 否 | 联系人邮箱地址 |
| `phone` | string | 否 | 联系人电话号码 |
| `name` | string | 否 | 联系人姓名 |
| `avatar` | string | 否 | 联系人头像图片 URL |
| `signed_up_at` | number | 否 | 用户注册时间（Unix 时间戳） |
| `last_seen_at` | number | 否 | 用户最后一次在线时间（Unix 时间戳） |
| `owner_id` | string | 否 | 被分配为该联系人账户所有者的管理员 ID |
| `unsubscribed_from_emails` | boolean | 否 | 联系人是否已退订邮件 |
| `custom_attributes` | string | 否 | 自定义属性，格式为 JSON 对象（如：\{"attribute_name": "value"\}） |
| `company_id` | string | 否 | 关联的公司 ID |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `contact` | object | 更新后的联系人对象 |

### `intercom_list_contacts`

列出所有来自 Intercom 的联系人，支持分页

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `per_page` | number | 否 | 每页结果数量 \(最大值: 150\) |
| `starting_after` | string | 否 | 分页游标 - 起始 ID |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `contacts` | array | 联系人对象数组 |

### `intercom_search_contacts`

使用查询在 Intercom 中搜索联系人

#### 输入

| 参数 | 类型 | 必填 | 描述 |
| --------- | ---- | -------- | ----------- |
| `query` | string | 是 | 搜索查询（例如：\{"field":"email", "operator":"=", "value":"user@example.com"\}） |
| `per_page` | number | 否 | 每页结果数量（最大值：150） |
| `starting_after` | string | 否 | 用于分页的游标 |
| `sort_field` | string | 否 | 排序字段（例如："name"，"created_at"，"last_seen_at"） |
| `sort_order` | string | 否 | 排序方式：“ascending” 或 “descending” |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `contacts` | array | 匹配的联系人对象数组 |

### `intercom_delete_contact`

通过 ID 从 Intercom 中删除联系人

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `contactId` | string | 是 | 要删除的联系人 ID |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `id` | string | 已删除联系人的 ID |
| `deleted` | boolean | 联系人是否已被删除 |
| `metadata` | object | 操作元数据 |

### `intercom_create_company`

在 Intercom 中创建或更新公司

#### 输入

| 参数 | 类型 | 必填 | 描述 |
| --------- | ---- | -------- | ----------- |
| `company_id` | string | 是 | 您为公司设置的唯一标识符 |
| `name` | string | 否 | 公司名称 |
| `website` | string | 否 | 公司网站 |
| `plan` | string | 否 | 公司套餐名称 |
| `size` | number | 否 | 公司员工数量 |
| `industry` | string | 否 | 公司所属行业 |
| `monthly_spend` | number | 否 | 公司为您的业务带来的收入。注意：此字段会将浮点数截断为整数（例如：155.98 变为 155） |
| `custom_attributes` | string | 否 | 自定义属性，格式为 JSON 对象 |
| `remote_created_at` | number | 否 | 您创建公司时的 Unix 时间戳 |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `company` | object | 新建或更新的公司对象 |

### `intercom_get_company`

通过 ID 从 Intercom 检索单个公司

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `companyId` | string | 是 | 要检索的公司 ID |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `company` | object | 公司对象 |

### `intercom_list_companies`

列出来自 Intercom 的所有公司，支持分页。注意：此端点限制为通过分页返回最多 10,000 家公司。对于超过 10,000 家公司的数据集，请改用 Scroll API。

#### 输入

| 参数 | 类型 | 必填 | 描述 |
| --------- | ---- | -------- | ----------- |
| `per_page` | number | 否 | 每页结果数量 |
| `page` | number | 否 | 页码 |
| `starting_after` | string | 否 | 分页游标（优先于基于页码的分页） |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `companies` | array | 公司对象数组 |

### `intercom_get_conversation`

通过 ID 从 Intercom 检索单个会话

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `conversationId` | string | 是 | 要检索的会话 ID |
| `display_as` | string | 否 | 设为 "plaintext" 可检索纯文本消息 |
| `include_translations` | boolean | 否 | 若为 true，会话内容将被翻译为检测到的会话语言 |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `conversation` | object | 会话对象 |

### `intercom_list_conversations`

列出 Intercom 中的所有会话，并支持分页

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `per_page` | number | 否 | 每页结果数量（最大值：150） |
| `starting_after` | string | 否 | 分页游标 |
| `sort` | string | 否 | 排序字段（例如："waiting_since"、"updated_at"、"created_at"） |
| `order` | string | 否 | 排序方式："asc"（升序）或 "desc"（降序） |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `conversations` | array | 会话对象数组 |

### `intercom_reply_conversation`

以管理员身份在 Intercom 中回复对话

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `conversationId` | string | 是 | 要回复的会话 ID |
| `message_type` | string | 是 | 消息类型："comment" 或 "note" |
| `body` | string | 是 | 回复正文 |
| `admin_id` | string | 否 | 回复管理员的 ID。如果未提供，将使用默认管理员（Operator/Fin）。 |
| `attachment_urls` | string | 否 | 以逗号分隔的图片 URL 列表（最多 10 个） |
| `created_at` | number | 否 | 回复创建时的 Unix 时间戳。如果未提供，则使用当前时间。 |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `conversation` | object | 更新后的会话对象 |

### `intercom_search_conversations`

使用查询在 Intercom 中搜索对话

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `query` | string | 是 | 作为 JSON 对象的搜索查询 |
| `per_page` | number | 否 | 每页结果数量（最大值：150） |
| `starting_after` | string | 否 | 分页游标 |
| `sort_field` | string | 否 | 排序字段（例如："created_at"，"updated_at"） |
| `sort_order` | string | 否 | 排序顺序：“ascending” 或 “descending” |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `conversations` | array | 匹配的会话对象数组 |

### `intercom_create_ticket`

在 Intercom 中创建新工单

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `ticket_type_id` | string | 是 | 工单类型的 ID |
| `contacts` | string | 是 | 联系人标识符的 JSON 数组（例如：\[\{"id": "contact_id"\}\]） |
| `ticket_attributes` | string | 是 | 包含 _default_title_ 和 _default_description_ 的工单属性 JSON 对象 |
| `company_id` | string | 否 | 要关联工单的公司 ID |
| `created_at` | number | 否 | 工单创建时的 Unix 时间戳。如果未提供，则使用当前时间。 |
| `conversation_to_link_id` | string | 否 | 要关联到此工单的现有会话 ID |
| `disable_notifications` | boolean | 否 | 若为 true，创建工单时将不发送通知 |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `ticket` | object | 创建的工单对象 |

### `intercom_get_ticket`

从 Intercom 按 ID 检索单个工单

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `ticketId` | string | 是 | 要检索的工单 ID |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `ticket` | object | 工单对象 |

### `intercom_create_message`

在 Intercom 中创建并发送新的管理员发起的消息

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `message_type` | string | 是 | 消息类型：“inapp” 表示应用内消息，“email” 表示电子邮件消息 |
| `template` | string | 是 | 消息模板样式：“plain” 表示纯文本，“personal” 表示个性化样式 |
| `subject` | string | 否 | 消息主题（仅适用于 email 类型） |
| `body` | string | 是 | 消息正文 |
| `from_type` | string | 是 | 发送方类型：“admin” |
| `from_id` | string | 是 | 发送消息的管理员 ID |
| `to_type` | string | 是 | 接收方类型：“contact” |
| `to_id` | string | 是 | 接收消息的联系人的 ID |
| `created_at` | number | 否 | 消息创建时的 Unix 时间戳。如果未提供，则使用当前时间。 |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `message` | object | 创建的消息对象 |

## 注意事项

- 类别：`tools`
- 类型：`intercom`
