---
title: 内存
description: 添加内存存储
---

import { BlockInfoCard } from "@/components/ui/block-info-card"

<BlockInfoCard 
  type="memory"
  color="#F64F9E"
/>

## 使用说明

将记忆集成到工作流程中。可以添加记忆、获取记忆、获取所有记忆以及删除记忆。

## 工具

### `memory_add`

向数据库添加新的内存，或将数据追加到具有相同 ID 的现有内存中。

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `id` | string | 是 | 内存的标识符。如果具有此 ID 的内存已存在，新数据将追加到其中。 |
| `role` | string | 是 | 代理内存的角色 \(用户、助手或系统\) |
| `content` | string | 是 | 代理内存的内容 |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `success` | 布尔值 | 是否成功添加了内存 |
| `memories` | 数组 | 包含新添加或更新内存的内存对象数组 |
| `error` | 字符串 | 如果操作失败，显示错误信息 |

### `memory_get`

通过 ID 检索特定内存

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `id` | 字符串 | 是 | 要检索的内存标识符 |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `success` | 布尔值 | 是否成功检索到内存 |
| `memories` | 数组 | 请求 ID 的内存数据数组 |
| `message` | 字符串 | 成功或错误信息 |
| `error` | 字符串 | 如果操作失败，显示错误信息 |

### `memory_get_all`

从数据库中检索所有内存

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `success` | 布尔值 | 是否成功检索到所有内存 |
| `memories` | 数组 | 包含键、类型和数据的所有内存对象数组 |
| `message` | 字符串 | 成功或错误信息 |
| `error` | 字符串 | 如果操作失败，显示错误信息 |

### `memory_delete`

通过其 ID 删除特定的内存

#### 输入

| 参数 | 类型 | 必需 | 描述 |
| --------- | ---- | -------- | ----------- |
| `id` | string | 是 | 要删除的内存标识符 |

#### 输出

| 参数 | 类型 | 描述 |
| --------- | ---- | ----------- |
| `success` | boolean | 内存是否成功删除 |
| `message` | string | 成功或错误信息 |
| `error` | string | 如果操作失败的错误信息 |

## 注意

- 类别：`blocks`
- 类型：`memory`
