---
title: Bloque de flujo de trabajo
description: Ejecuta otro flujo de trabajo dentro del flujo actual
---

import { Callout } from 'fumadocs-ui/components/callout'
import { Image } from '@/components/ui/image'

## Qué hace

<div className='flex justify-center my-6'>
  <Image
    src='/static/blocks/workflow.png'
    alt='Configuración del bloque de flujo de trabajo'
    width={500}
    height={400}
    className='rounded-xl border border-border shadow-sm'
  />
</div>

Coloca un bloque de Flujo de trabajo cuando quieras llamar a un flujo de trabajo secundario como parte de un flujo más grande. El bloque ejecuta la última versión implementada de ese flujo de trabajo, espera a que termine y luego continúa con el principal.

## Cómo configurarlo

1. **Elige un flujo de trabajo** del menú desplegable (las auto-referencias están bloqueadas para evitar bucles).
2. **Mapea las entradas**: Si el flujo de trabajo hijo tiene un disparador de Formulario de Entrada, verás cada campo y podrás conectar variables del padre. Los valores mapeados son los que recibe el hijo.

<div className='flex justify-center my-6'>
  <Image
    src='/static/blocks/workflow-2.png'
    alt='Bloque de flujo de trabajo con ejemplo de mapeo de entrada'
    width={700}
    height={400}
    className='rounded-xl border border-border shadow-sm'
  />
</div>

3. **Salidas**: Después de que el hijo finalice, el bloque expone:
   - `result` – la respuesta final del flujo de trabajo hijo
   - `success` – si se ejecutó sin errores
   - `error` – mensaje cuando la ejecución falla

## Insignia de estado de implementación

El bloque de flujo de trabajo muestra una insignia de estado de implementación para ayudarte a realizar un seguimiento de si el flujo de trabajo secundario está listo para ejecutarse:

- **Implementado** – El flujo de trabajo secundario ha sido implementado y está listo para usar. El bloque ejecutará la versión implementada actual.
- **No implementado** – El flujo de trabajo secundario nunca ha sido implementado. Debes implementarlo antes de que el bloque de flujo de trabajo pueda ejecutarlo.
- **Reimplementar** – Se han detectado cambios en el flujo de trabajo secundario desde la última implementación. Haz clic en la insignia para reimplementar el flujo de trabajo secundario con los últimos cambios.

<Callout type="warn">
El bloque de flujo de trabajo siempre ejecuta la versión implementada más reciente del flujo de trabajo secundario, no la versión del editor. Asegúrate de reimplementar después de hacer cambios para garantizar que el bloque utilice la lógica más reciente.
</Callout>

## Notas de ejecución

- Los flujos de trabajo secundarios se ejecutan en el mismo contexto de espacio de trabajo, por lo que las variables de entorno y las herramientas se mantienen.
- El bloque utiliza el control de versiones de implementación: cualquier API, programación, webhook, ejecución manual o de chat llama a la instantánea implementada. Reimplementa el flujo secundario cuando lo cambies.
- Si el flujo secundario falla, el bloque genera un error a menos que lo manejes posteriormente.

<Callout>
Mantén los flujos de trabajo secundarios enfocados. Los flujos pequeños y reutilizables facilitan su combinación sin crear anidamientos profundos.
</Callout>
