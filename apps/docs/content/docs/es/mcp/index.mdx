---
title: Uso de herramientas MCP
description: Conecta herramientas y servicios externos usando el Model Context Protocol
---

import { Image } from '@/components/ui/image'
import { Video } from '@/components/ui/video'
import { Callout } from 'fumadocs-ui/components/callout'

El Protocolo de Contexto de Modelo ([MCP](https://modelcontextprotocol.com/)) te permite conectar herramientas y servicios externos utilizando un protocolo estandarizado, permitiéndote integrar APIs y servicios directamente en tus flujos de trabajo. Con MCP, puedes ampliar las capacidades de Sim añadiendo integraciones personalizadas que funcionan perfectamente con tus agentes y flujos de trabajo.

## ¿Qué es MCP?

MCP es un estándar abierto que permite a los asistentes de IA conectarse de forma segura a fuentes de datos y herramientas externas. Proporciona una forma estandarizada para:

- Conectar a bases de datos, APIs y sistemas de archivos
- Acceder a datos en tiempo real desde servicios externos
- Ejecutar herramientas y scripts personalizados
- Mantener un acceso seguro y controlado a recursos externos

## Configuración de servidores MCP

Los servidores MCP proporcionan colecciones de herramientas que tus agentes pueden utilizar. Configúralos en los ajustes del espacio de trabajo:

<div className="mx-auto w-full overflow-hidden rounded-lg">
  <Video src="mcp/settings-mcp-tools.mp4" width={700} height={450} />
</div>

1. Navega a la configuración de tu espacio de trabajo
2. Ve a la sección **Servidores MCP**
3. Haz clic en **Añadir servidor MCP**
4. Introduce los detalles de configuración del servidor
5. Guarda la configuración

<Callout type="info">
También puedes configurar servidores MCP directamente desde la barra de herramientas en un bloque de Agente para una configuración rápida.
</Callout>

### Actualizar herramientas

Haz clic en **Actualizar** en un servidor para obtener los esquemas de herramientas más recientes y actualizar automáticamente cualquier bloque de agente que use esas herramientas con las nuevas definiciones de parámetros.

## Uso de herramientas MCP en agentes

Una vez configurados los servidores MCP, sus herramientas están disponibles dentro de tus bloques de agente:

<div className="flex justify-center">
  <Image
    src="/static/blocks/mcp-2.png"
    alt="Uso de herramienta MCP en bloque de agente"
    width={700}
    height={450}
    className="my-6"
  />
</div>

1. Abre un bloque de **Agente**
2. En la sección **Herramientas**, verás las herramientas MCP disponibles
3. Selecciona las herramientas que quieres que use el agente
4. El agente ahora puede acceder a estas herramientas durante la ejecución

## Bloque de herramienta MCP independiente

Para un control más granular, puedes usar el bloque de herramienta MCP dedicado para ejecutar herramientas MCP específicas:

<div className="flex justify-center">
  <Image
    src="/static/blocks/mcp-3.png"
    alt="Bloque de herramienta MCP independiente"
    width={700}
    height={450}
    className="my-6"
  />
</div>

El bloque de herramienta MCP te permite:
- Ejecutar cualquier herramienta MCP configurada directamente
- Pasar parámetros específicos a la herramienta
- Usar la salida de la herramienta en pasos posteriores del flujo de trabajo
- Encadenar múltiples herramientas MCP

### Cuándo usar herramienta MCP vs. agente

**Usa agente con herramientas MCP cuando:**
- Quieres que la IA decida qué herramientas usar
- Necesitas razonamiento complejo sobre cuándo y cómo usar las herramientas
- Quieres interacción en lenguaje natural con las herramientas

**Usa el bloque Herramienta MCP cuando:**
- Necesitas una ejecución determinista de herramientas
- Quieres ejecutar una herramienta específica con parámetros conocidos
- Estás construyendo flujos de trabajo estructurados con pasos predecibles

## Requisitos de permisos

La funcionalidad MCP requiere permisos específicos del espacio de trabajo:

| Acción | Permiso requerido |
|--------|-------------------|
| Configurar servidores MCP en ajustes | **Admin** |
| Usar herramientas MCP en agentes | **Write** o **Admin** |
| Ver herramientas MCP disponibles | **Read**, **Write** o **Admin** |
| Ejecutar bloques de Herramienta MCP | **Write** o **Admin** |

## Casos de uso comunes

### Integración con bases de datos
Conecta con bases de datos para consultar, insertar o actualizar datos dentro de tus flujos de trabajo.

### Integraciones de API
Accede a API externas y servicios web que no tienen integraciones integradas en Sim.

### Acceso al sistema de archivos
Lee, escribe y manipula archivos en sistemas de archivos locales o remotos.

### Lógica de negocio personalizada
Ejecuta scripts o herramientas personalizadas específicas de las necesidades de tu organización.

### Acceso a datos en tiempo real
Obtén datos en vivo de sistemas externos durante la ejecución del flujo de trabajo.

## Consideraciones de seguridad

- Los servidores MCP se ejecutan con los permisos del usuario que los configuró
- Siempre verifica las fuentes de los servidores MCP antes de la instalación
- Usa variables de entorno para datos de configuración sensibles
- Revisa las capacidades del servidor MCP antes de otorgar acceso a los agentes

## Solución de problemas

### El servidor MCP no aparece
- Verifica que la configuración del servidor sea correcta
- Comprueba que tienes los permisos requeridos
- Asegúrate de que el servidor MCP esté en ejecución y accesible

### Fallos en la ejecución de herramientas
- Verifica que los parámetros de la herramienta estén correctamente formateados
- Revisa los registros del servidor MCP para mensajes de error
- Asegúrate de que la autenticación requerida esté configurada

### Errores de permisos
- Confirma tu nivel de permisos del espacio de trabajo
- Verifica si el servidor MCP requiere autenticación adicional
- Comprueba que el servidor esté configurado correctamente para tu espacio de trabajo