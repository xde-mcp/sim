---
title: Stripe
description: Zahlungen verarbeiten und Stripe-Daten verwalten
---

import { BlockInfoCard } from "@/components/ui/block-info-card"

<BlockInfoCard 
  type="stripe"
  color="#635BFF"
  icon={true}
  iconSvg={`<svg className="block-icon"
      
      
      
      viewBox='0 0 360 151'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M360 78.0002C360 52.4002 347.6 32.2002 323.9 32.2002C300.1 32.2002 285.7 52.4002 285.7 77.8002C285.7 107.9 302.7 123.1 327.1 123.1C339 123.1 348 120.4 354.8 116.6V96.6002C348 100 340.2 102.1 330.3 102.1C320.6 102.1 312 98.7002 310.9 86.9002H359.8C359.8 85.6002 360 80.4002 360 78.0002ZM310.6 68.5002C310.6 57.2002 317.5 52.5002 323.8 52.5002C329.9 52.5002 336.4 57.2002 336.4 68.5002H310.6Z'
        fill='white'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M247.1 32.2002C237.3 32.2002 231 36.8002 227.5 40.0002L226.2 33.8002H204.2V150.4L229.2 145.1L229.3 116.8C232.9 119.4 238.2 123.1 247 123.1C264.9 123.1 281.2 108.7 281.2 77.0002C281.1 48.0002 264.6 32.2002 247.1 32.2002ZM241.1 101.1C235.2 101.1 231.7 99.0002 229.3 96.4002L229.2 59.3002C231.8 56.4002 235.4 54.4002 241.1 54.4002C250.2 54.4002 256.5 64.6002 256.5 77.7002C256.5 91.1002 250.3 101.1 241.1 101.1Z'
        fill='white'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M169.8 26.3001L194.9 20.9001V0.600098L169.8 5.9001V26.3001Z'
        fill='white'
      />
      <path d='M194.9 33.9001H169.8V121.4H194.9V33.9001Z' fill='white' />
      <path
        fill-rule='evenodd'
        clipRule='evenodd'
        d='M142.9 41.3001L141.3 33.9001H119.7V121.4H144.7V62.1001C150.6 54.4001 160.6 55.8001 163.7 56.9001V33.9001C160.5 32.7001 148.8 30.5001 142.9 41.3001Z'
        fill='white'
      />
      <path
        fill-rule='evenodd'
        clipRule='evenodd'
        d='M92.8999 12.2002L68.4999 17.4002L68.3999 97.5002C68.3999 112.3 79.4999 123.2 94.2999 123.2C102.5 123.2 108.5 121.7 111.8 119.9V99.6002C108.6 100.9 92.7999 105.5 92.7999 90.7002V55.2002H111.8V33.9002H92.7999L92.8999 12.2002Z'
        fill='white'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M25.3 59.3002C25.3 55.4002 28.5 53.9002 33.8 53.9002C41.4 53.9002 51 56.2002 58.6 60.3002V36.8002C50.3 33.5002 42.1 32.2002 33.8 32.2002C13.5 32.2002 0 42.8002 0 60.5002C0 88.1002 38 83.7002 38 95.6002C38 100.2 34 101.7 28.4 101.7C20.1 101.7 9.5 98.3002 1.1 93.7002V117.5C10.4 121.5 19.8 123.2 28.4 123.2C49.2 123.2 63.5 112.9 63.5 95.0002C63.4 65.2002 25.3 70.5002 25.3 59.3002Z'
        fill='white'
      />
    </svg>`}
/>

## Gebrauchsanweisung

Integriert Stripe in den Workflow. Verwalten Sie Zahlungsabsichten, Kunden, Abonnements, Rechnungen, Gebühren, Produkte, Preise und Ereignisse. Kann im Auslösemodus verwendet werden, um einen Workflow auszulösen, wenn ein Stripe-Ereignis auftritt.

## Tools

### `stripe_create_payment_intent`

Erstellen Sie einen neuen Payment Intent, um eine Zahlung zu verarbeiten

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(Secret Key\) |
| `amount` | number | Ja | Betrag in Cent \(z.B. 2000 für 20,00 €\) |
| `currency` | string | Ja | Dreistelliger ISO-Währungscode \(z.B. usd, eur\) |
| `customer` | string | Nein | Kunden-ID, die mit dieser Zahlung verknüpft werden soll |
| `payment_method` | string | Nein | Zahlungsmethoden-ID |
| `description` | string | Nein | Beschreibung der Zahlung |
| `receipt_email` | string | Nein | E-Mail-Adresse für den Quittungsversand |
| `metadata` | json | Nein | Satz von Schlüssel-Wert-Paaren zur Speicherung zusätzlicher Informationen |
| `automatic_payment_methods` | json | Nein | Automatische Zahlungsmethoden aktivieren \(z.B. \{"enabled": true\}\) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `payment_intent` | json | Das erstellte Payment Intent-Objekt |
| `metadata` | json | Payment Intent-Metadaten einschließlich ID, Status, Betrag und Währung |

### `stripe_retrieve_payment_intent`

Abrufen eines vorhandenen Payment Intent anhand der ID

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(Secret Key\) |
| `id` | string | Ja | Payment Intent-ID \(z.B. pi_1234567890\) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `payment_intent` | json | Das abgerufene Payment Intent-Objekt |
| `metadata` | json | Payment Intent-Metadaten einschließlich ID, Status, Betrag und Währung |

### `stripe_update_payment_intent`

Einen bestehenden Payment Intent aktualisieren

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (Secret Key) |
| `id` | string | Ja | Payment Intent ID (z.B. pi_1234567890) |
| `amount` | number | Nein | Aktualisierter Betrag in Cent |
| `currency` | string | Nein | Dreistelliger ISO-Währungscode |
| `customer` | string | Nein | Kunden-ID |
| `description` | string | Nein | Aktualisierte Beschreibung |
| `metadata` | json | Nein | Aktualisierte Metadaten |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `payment_intent` | json | Das aktualisierte Payment Intent-Objekt |
| `metadata` | json | Payment Intent-Metadaten einschließlich ID, Status, Betrag und Währung |

### `stripe_confirm_payment_intent`

Einen Payment Intent bestätigen, um die Zahlung abzuschließen

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (Secret Key) |
| `id` | string | Ja | Payment Intent ID (z.B. pi_1234567890) |
| `payment_method` | string | Nein | Payment Method ID zur Bestätigung |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `payment_intent` | json | Das bestätigte Payment Intent-Objekt |
| `metadata` | json | Payment Intent-Metadaten einschließlich ID, Status, Betrag und Währung |

### `stripe_capture_payment_intent`

Einen autorisierten Payment Intent einziehen

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (Secret Key) |
| `id` | string | Ja | Payment Intent ID (z.B. pi_1234567890) |
| `amount_to_capture` | number | Nein | Einzuziehender Betrag in Cent (standardmäßig der volle Betrag) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `payment_intent` | json | Das eingezogene Payment Intent-Objekt |
| `metadata` | json | Payment Intent-Metadaten einschließlich ID, Status, Betrag und Währung |

### `stripe_cancel_payment_intent`

Einen Payment Intent stornieren

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (Secret Key) |
| `id` | string | Ja | Payment Intent ID (z.B. pi_1234567890) |
| `cancellation_reason` | string | Nein | Grund für die Stornierung (duplicate, fraudulent, requested_by_customer, abandoned) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `payment_intent` | json | Das stornierte Payment Intent-Objekt |
| `metadata` | json | Payment Intent-Metadaten einschließlich ID, Status, Betrag und Währung |

### `stripe_list_payment_intents`

Alle Zahlungsabsichten auflisten

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse \(Standard 10, maximal 100\) |
| `customer` | string | Nein | Nach Kunden-ID filtern |
| `created` | json | Nein | Nach Erstellungsdatum filtern \(z.B., \{"gt": 1633024800\}\) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `payment_intents` | json | Array von Payment Intent-Objekten |
| `metadata` | json | Listenmetadaten einschließlich Anzahl und has_more |

### `stripe_search_payment_intents`

Nach Zahlungsabsichten mit Abfragesyntax suchen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `query` | string | Ja | Suchabfrage \(z.B., \"status:'succeeded' AND currency:'usd'\"\) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse \(Standard 10, maximal 100\) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `payment_intents` | json | Array von passenden Payment Intent-Objekten |
| `metadata` | json | Suchmetadaten einschließlich Anzahl und has_more |

### `stripe_create_customer`

Neues Kundenobjekt erstellen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `email` | string | Nein | E-Mail-Adresse des Kunden |
| `name` | string | Nein | Vollständiger Name des Kunden |
| `phone` | string | Nein | Telefonnummer des Kunden |
| `description` | string | Nein | Beschreibung des Kunden |
| `address` | json | Nein | Adressobjekt des Kunden |
| `metadata` | json | Nein | Satz von Schlüssel-Wert-Paaren |
| `payment_method` | string | Nein | Zahlungsmethoden-ID zum Anhängen |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `customer` | json | Das erstellte Kundenobjekt |
| `metadata` | json | Kunden-Metadaten |

### `stripe_retrieve_customer`

Einen vorhandenen Kunden anhand der ID abrufen

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Kunden-ID \(z.B. cus_1234567890\) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `customer` | json | Das abgerufene Kundenobjekt |
| `metadata` | json | Kunden-Metadaten |

### `stripe_update_customer`

Einen vorhandenen Kunden aktualisieren

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Kunden-ID \(z.B. cus_1234567890\) |
| `email` | string | Nein | Aktualisierte E-Mail-Adresse |
| `name` | string | Nein | Aktualisierter Name |
| `phone` | string | Nein | Aktualisierte Telefonnummer |
| `description` | string | Nein | Aktualisierte Beschreibung |
| `address` | json | Nein | Aktualisiertes Adressobjekt |
| `metadata` | json | Nein | Aktualisierte Metadaten |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `customer` | json | Das aktualisierte Kundenobjekt |
| `metadata` | json | Kunden-Metadaten |

### `stripe_delete_customer`

Einen Kunden dauerhaft löschen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Kunden-ID \(z.B. cus_1234567890\) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `deleted` | boolean | Ob der Kunde gelöscht wurde |
| `id` | string | Die ID des gelöschten Kunden |
| `metadata` | json | Löschmetadaten |

### `stripe_list_customers`

Alle Kunden auflisten

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse \(Standard 10, max 100\) |
| `email` | string | Nein | Nach E-Mail-Adresse filtern |
| `created` | json | Nein | Nach Erstellungsdatum filtern |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `customers` | json | Array von Kundenobjekten |
| `metadata` | json | Listenmetadaten |

### `stripe_search_customers`

Nach Kunden mit Abfragesyntax suchen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `query` | string | Ja | Suchabfrage \(z.B. "email:\'customer@example.com\'"\) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse \(Standard 10, max 100\) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `customers` | json | Array von übereinstimmenden Kundenobjekten |
| `metadata` | json | Suchmeta­daten |

### `stripe_create_subscription`

Ein neues Abonnement für einen Kunden erstellen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `customer` | string | Ja | Kunden-ID für das Abonnement |
| `items` | json | Ja | Array von Artikeln mit Preis-IDs \(z.B. \[\{"price": "price_xxx", "quantity": 1\}\]\) |
| `trial_period_days` | number | Nein | Anzahl der Testtage |
| `default_payment_method` | string | Nein | Zahlungsmethoden-ID |
| `cancel_at_period_end` | boolean | Nein | Abonnement am Ende der Periode kündigen |
| `metadata` | json | Nein | Satz von Schlüssel-Wert-Paaren zur Speicherung zusätzlicher Informationen |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `subscription` | json | Das erstellte Abonnementobjekt |
| `metadata` | json | Abonnement-Metadaten einschließlich ID, Status und Kunde |

### `stripe_retrieve_subscription`

Ein bestehendes Abonnement anhand der ID abrufen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `id` | string | Ja | Abonnement-ID (z.B. sub_1234567890) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `subscription` | json | Das abgerufene Abonnement-Objekt |
| `metadata` | json | Abonnement-Metadaten einschließlich ID, Status und Kunde |

### `stripe_update_subscription`

Ein bestehendes Abonnement aktualisieren

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `id` | string | Ja | Abonnement-ID (z.B. sub_1234567890) |
| `items` | json | Nein | Aktualisiertes Array von Artikeln mit Preis-IDs |
| `cancel_at_period_end` | boolean | Nein | Abonnement am Ende der Periode kündigen |
| `metadata` | json | Nein | Aktualisierte Metadaten |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `subscription` | json | Das aktualisierte Abonnement-Objekt |
| `metadata` | json | Abonnement-Metadaten einschließlich ID, Status und Kunde |

### `stripe_cancel_subscription`

Ein Abonnement kündigen

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `id` | string | Ja | Abonnement-ID (z.B. sub_1234567890) |
| `prorate` | boolean | Nein | Ob die Kündigung anteilig berechnet werden soll |
| `invoice_now` | boolean | Nein | Ob sofort eine Rechnung erstellt werden soll |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `subscription` | json | Das gekündigte Abonnement-Objekt |
| `metadata` | json | Abonnement-Metadaten einschließlich ID, Status und Kunde |

### `stripe_resume_subscription`

Ein Abonnement fortsetzen, das zur Kündigung vorgesehen war

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Abonnement-ID \(z.B. sub_1234567890\) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `subscription` | json | Das fortgesetzte Abonnement-Objekt |
| `metadata` | json | Abonnement-Metadaten einschließlich ID, Status und Kunde |

### `stripe_list_subscriptions`

Alle Abonnements auflisten

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse \(Standard 10, max 100\) |
| `customer` | string | Nein | Nach Kunden-ID filtern |
| `status` | string | Nein | Nach Status filtern \(active, past_due, unpaid, canceled, incomplete, incomplete_expired, trialing, all\) |
| `price` | string | Nein | Nach Preis-ID filtern |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `subscriptions` | json | Array von Abonnement-Objekten |
| `metadata` | json | Listen-Metadaten |

### `stripe_search_subscriptions`

Nach Abonnements mit Abfragesyntax suchen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `query` | string | Ja | Suchabfrage \(z.B. \"status:'active' AND customer:'cus_xxx'\"\) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse \(Standard 10, max 100\) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `subscriptions` | json | Array von übereinstimmenden Abonnementobjekten |
| `metadata` | json | Suchdaten |

### `stripe_create_invoice`

Eine neue Rechnung erstellen

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `customer` | string | Ja | Kunden-ID (z.B. cus_1234567890) |
| `description` | string | Nein | Beschreibung der Rechnung |
| `metadata` | json | Nein | Satz von Schlüssel-Wert-Paaren |
| `auto_advance` | boolean | Nein | Rechnung automatisch abschließen |
| `collection_method` | string | Nein | Inkassomethode: charge_automatically oder send_invoice |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `invoice` | json | Das erstellte Rechnungsobjekt |
| `metadata` | json | Rechnungsmetadaten |

### `stripe_retrieve_invoice`

Eine bestehende Rechnung anhand der ID abrufen

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `id` | string | Ja | Rechnungs-ID (z.B. in_1234567890) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `invoice` | json | Das abgerufene Rechnungsobjekt |
| `metadata` | json | Rechnungsmetadaten |

### `stripe_update_invoice`

Eine bestehende Rechnung aktualisieren

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Rechnungs-ID \(z.B. in_1234567890\) |
| `description` | string | Nein | Beschreibung der Rechnung |
| `metadata` | json | Nein | Satz von Schlüssel-Wert-Paaren |
| `auto_advance` | boolean | Nein | Rechnung automatisch abschließen |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `invoice` | json | Das aktualisierte Rechnungsobjekt |
| `metadata` | json | Rechnungsmetadaten |

### `stripe_delete_invoice`

Eine Rechnungsentwurf dauerhaft löschen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Rechnungs-ID \(z.B. in_1234567890\) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `deleted` | boolean | Ob die Rechnung gelöscht wurde |
| `id` | string | Die ID der gelöschten Rechnung |
| `metadata` | json | Löschmetadaten |

### `stripe_finalize_invoice`

Einen Rechnungsentwurf abschließen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Rechnungs-ID \(z.B. in_1234567890\) |
| `auto_advance` | boolean | Nein | Rechnung automatisch weiterleiten |

#### Output

| Parameter | Type | Beschreibung |
| --------- | ---- | ----------- |
| `invoice` | json | Das fertiggestellte Rechnungsobjekt |
| `metadata` | json | Rechnungsmetadaten |

### `stripe_pay_invoice`

Eine Rechnung bezahlen

#### Input

| Parameter | Type | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Rechnungs-ID \(z.B. in_1234567890\) |
| `paid_out_of_band` | boolean | Nein | Rechnung als extern bezahlt markieren |

#### Output

| Parameter | Type | Beschreibung |
| --------- | ---- | ----------- |
| `invoice` | json | Das bezahlte Rechnungsobjekt |
| `metadata` | json | Rechnungsmetadaten |

### `stripe_void_invoice`

Eine Rechnung stornieren

#### Input

| Parameter | Type | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Rechnungs-ID \(z.B. in_1234567890\) |

#### Output

| Parameter | Type | Beschreibung |
| --------- | ---- | ----------- |
| `invoice` | json | Das stornierte Rechnungsobjekt |
| `metadata` | json | Rechnungsmetadaten |

### `stripe_send_invoice`

Eine Rechnung an den Kunden senden

#### Input

| Parameter | Type | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Rechnungs-ID \(z.B. in_1234567890\) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `invoice` | json | Das gesendete Rechnungsobjekt |
| `metadata` | json | Rechnungsmetadaten |

### `stripe_list_invoices`

Alle Rechnungen auflisten

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse (Standard 10, max 100) |
| `customer` | string | Nein | Nach Kunden-ID filtern |
| `status` | string | Nein | Nach Rechnungsstatus filtern |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `invoices` | json | Array von Rechnungsobjekten |
| `metadata` | json | Listenmetadaten |

### `stripe_search_invoices`

Nach Rechnungen mit Abfragesyntax suchen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `query` | string | Ja | Suchabfrage (z.B. "customer:\'cus_1234567890\'") |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse (Standard 10, max 100) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `invoices` | json | Array von passenden Rechnungsobjekten |
| `metadata` | json | Suchmetadaten |

### `stripe_create_charge`

Erstellen Sie eine neue Belastung, um eine Zahlung zu verarbeiten

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `amount` | number | Ja | Betrag in Cent \(z.B. 2000 für 20,00 €\) |
| `currency` | string | Ja | Dreistelliger ISO-Währungscode \(z.B. usd, eur\) |
| `customer` | string | Nein | Kunden-ID, die dieser Belastung zugeordnet werden soll |
| `source` | string | Nein | Zahlungsquellen-ID \(z.B. Karten-Token oder gespeicherte Karten-ID\) |
| `description` | string | Nein | Beschreibung der Belastung |
| `metadata` | json | Nein | Satz von Schlüssel-Wert-Paaren zur Speicherung zusätzlicher Informationen |
| `capture` | boolean | Nein | Ob die Belastung sofort erfasst werden soll \(standardmäßig true\) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `charge` | json | Das erstellte Charge-Objekt |
| `metadata` | json | Belastungsmetadaten einschließlich ID, Status, Betrag, Währung und Zahlungsstatus |

### `stripe_retrieve_charge`

Eine bestehende Belastung anhand der ID abrufen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Belastungs-ID \(z.B. ch_1234567890\) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `charge` | json | Das abgerufene Charge-Objekt |
| `metadata` | json | Belastungsmetadaten einschließlich ID, Status, Betrag, Währung und Zahlungsstatus |

### `stripe_update_charge`

Eine bestehende Zahlung aktualisieren

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `id` | string | Ja | Zahlungs-ID (z.B. ch_1234567890) |
| `description` | string | Nein | Aktualisierte Beschreibung |
| `metadata` | json | Nein | Aktualisierte Metadaten |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `charge` | json | Das aktualisierte Zahlungsobjekt |
| `metadata` | json | Zahlungsmetadaten einschließlich ID, Status, Betrag, Währung und Zahlungsstatus |

### `stripe_capture_charge`

Eine nicht erfasste Zahlung erfassen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `id` | string | Ja | Zahlungs-ID (z.B. ch_1234567890) |
| `amount` | number | Nein | Zu erfassender Betrag in Cent (standardmäßig der volle Betrag) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `charge` | json | Das erfasste Zahlungsobjekt |
| `metadata` | json | Zahlungsmetadaten einschließlich ID, Status, Betrag, Währung und Zahlungsstatus |

### `stripe_list_charges`

Alle Zahlungen auflisten

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse (Standard 10, max. 100) |
| `customer` | string | Nein | Nach Kunden-ID filtern |
| `created` | json | Nein | Nach Erstellungsdatum filtern \(z.B. \{"gt": 1633024800\}\) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `charges` | json | Array von Charge-Objekten |
| `metadata` | json | Metadaten der Liste einschließlich count und has_more |

### `stripe_search_charges`

Suche nach Belastungen mit Abfragesyntax

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `query` | string | Ja | Suchabfrage (z.B. "status:'succeeded' AND currency:'usd'") |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse (Standard 10, max 100) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `charges` | json | Array von passenden Charge-Objekten |
| `metadata` | json | Suchmetadaten einschließlich count und has_more |

### `stripe_create_product`

Ein neues Produktobjekt erstellen

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (geheimer Schlüssel) |
| `name` | string | Ja | Produktname |
| `description` | string | Nein | Produktbeschreibung |
| `active` | boolean | Nein | Ob das Produkt aktiv ist |
| `images` | json | Nein | Array von Bild-URLs für das Produkt |
| `metadata` | json | Nein | Satz von Schlüssel-Wert-Paaren |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `product` | json | Das erstellte Produktobjekt |
| `metadata` | json | Produkt-Metadaten |

### `stripe_retrieve_product`

Ein vorhandenes Produkt anhand der ID abrufen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (Secret Key) |
| `id` | string | Ja | Produkt-ID (z.B. prod_1234567890) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `product` | json | Das abgerufene Produktobjekt |
| `metadata` | json | Produkt-Metadaten |

### `stripe_update_product`

Ein vorhandenes Produkt aktualisieren

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (Secret Key) |
| `id` | string | Ja | Produkt-ID (z.B. prod_1234567890) |
| `name` | string | Nein | Aktualisierter Produktname |
| `description` | string | Nein | Aktualisierte Produktbeschreibung |
| `active` | boolean | Nein | Aktualisierter Aktivitätsstatus |
| `images` | json | Nein | Aktualisiertes Array von Bild-URLs |
| `metadata` | json | Nein | Aktualisierte Metadaten |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `product` | json | Das aktualisierte Produktobjekt |
| `metadata` | json | Produkt-Metadaten |

### `stripe_delete_product`

Produkt dauerhaft löschen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Produkt-ID \(z.B. prod_1234567890\) |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `deleted` | boolean | Ob das Produkt gelöscht wurde |
| `id` | string | Die ID des gelöschten Produkts |
| `metadata` | json | Löschmetadaten |

### `stripe_list_products`

Alle Produkte auflisten

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse \(Standard 10, max. 100\) |
| `active` | boolean | Nein | Nach Aktivstatus filtern |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `products` | json | Array von Produktobjekten |
| `metadata` | json | Listenmetadaten |

### `stripe_search_products`

Produkte mit Abfragesyntax suchen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `query` | string | Ja | Suchabfrage \(z.B. "name:\'shirt\'"\) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse \(Standard 10, max. 100\) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `products` | json | Array von übereinstimmenden Produktobjekten |
| `metadata` | json | Suchmeta­daten |

### `stripe_create_price`

Einen neuen Preis für ein Produkt erstellen

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (Secret Key) |
| `product` | string | Ja | Produkt-ID (z.B. prod_1234567890) |
| `currency` | string | Ja | Dreistelliger ISO-Währungscode (z.B. usd, eur) |
| `unit_amount` | number | Nein | Betrag in Cent (z.B. 1000 für 10,00 €) |
| `recurring` | json | Nein | Konfiguration für wiederkehrende Abrechnung (Intervall: day/week/month/year) |
| `metadata` | json | Nein | Satz von Schlüssel-Wert-Paaren |
| `billing_scheme` | string | Nein | Abrechnungsschema (per_unit oder tiered) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `price` | json | Das erstellte Preisobjekt |
| `metadata` | json | Preis-Metadaten |

### `stripe_retrieve_price`

Einen vorhandenen Preis anhand der ID abrufen

#### Input

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (Secret Key) |
| `id` | string | Ja | Preis-ID (z.B. price_1234567890) |

#### Output

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `price` | json | Das abgerufene Preisobjekt |
| `metadata` | json | Preis-Metadaten |

### `stripe_update_price`

Aktualisieren eines vorhandenen Preises

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `id` | string | Ja | Preis-ID \(z.B. price_1234567890\) |
| `active` | boolean | Nein | Ob der Preis aktiv ist |
| `metadata` | json | Nein | Aktualisierte Metadaten |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `price` | json | Das aktualisierte Preisobjekt |
| `metadata` | json | Preis-Metadaten |

### `stripe_list_prices`

Alle Preise auflisten

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse \(Standard 10, max. 100\) |
| `product` | string | Nein | Nach Produkt-ID filtern |
| `active` | boolean | Nein | Nach Aktivstatus filtern |

#### Ausgabe

| Parameter | Typ | Beschreibung |
| --------- | ---- | ----------- |
| `prices` | json | Array von Preisobjekten |
| `metadata` | json | Listen-Metadaten |

### `stripe_search_prices`

Nach Preisen mit Abfragesyntax suchen

#### Eingabe

| Parameter | Typ | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel \(geheimer Schlüssel\) |
| `query` | string | Ja | Suchabfrage \(z.B. \"active:'true' AND currency:'usd'\"\) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse \(Standard 10, max. 100\) |

#### Output

| Parameter | Type | Beschreibung |
| --------- | ---- | ----------- |
| `prices` | json | Array von übereinstimmenden Preisobjekten |
| `metadata` | json | Such-Metadaten |

### `stripe_retrieve_event`

Ein vorhandenes Event anhand der ID abrufen

#### Input

| Parameter | Type | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (Secret-Key) |
| `id` | string | Ja | Event-ID (z.B. evt_1234567890) |

#### Output

| Parameter | Type | Beschreibung |
| --------- | ---- | ----------- |
| `event` | json | Das abgerufene Event-Objekt |
| `metadata` | json | Event-Metadaten einschließlich ID, Typ und Erstellungszeitstempel |

### `stripe_list_events`

Alle Events auflisten

#### Input

| Parameter | Type | Erforderlich | Beschreibung |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | Ja | Stripe API-Schlüssel (Secret-Key) |
| `limit` | number | Nein | Anzahl der zurückzugebenden Ergebnisse (Standard 10, max. 100) |
| `type` | string | Nein | Nach Event-Typ filtern (z.B. payment_intent.created) |
| `created` | json | Nein | Nach Erstellungsdatum filtern \(z.B. \{"gt": 1633024800\}\) |

#### Output

| Parameter | Type | Beschreibung |
| --------- | ---- | ----------- |
| `events` | json | Array von Event-Objekten |
| `metadata` | json | Listen-Metadaten einschließlich Anzahl und has_more |

## Hinweise

- Kategorie: `tools`
- Typ: `stripe`
