---
title: Router
---

import { Callout } from 'fumadocs-ui/components/callout'
import { Step, Steps } from 'fumadocs-ui/components/steps'
import { Tab, Tabs } from 'fumadocs-ui/components/tabs'
import { Accordion, Accordions } from 'fumadocs-ui/components/accordion'
import { Image } from '@/components/ui/image'
import { Video } from '@/components/ui/video'

Der Router-Block nutzt KI, um intelligent zu entscheiden, welchen Pfad Ihr Workflow als nächstes nehmen sollte, indem er die Workflow-Ausführung basierend auf spezifischen Bedingungen oder Logik leitet. Im Gegensatz zu Bedingungsblöcken, die einfache Regeln verwenden, können Router-Blöcke den Kontext verstehen und intelligente Routing-Entscheidungen auf Basis von Inhaltsanalysen treffen.

<div className="flex justify-center">
  <Image
    src="/static/blocks/router.png"
    alt="Router-Block mit mehreren Pfaden"
    width={500}
    height={400}
    className="my-6"
  />
</div>

## Router vs. Bedingung

**Router verwenden wenn:**
- KI-gestützte Inhaltsanalyse erforderlich ist
- Mit unstrukturiertem oder variierendem Inhalt gearbeitet wird
- Absichtsbasiertes Routing erforderlich ist (z.B. "Support-Tickets an Abteilungen weiterleiten")

**Bedingung verwenden wenn:**
- Einfache regelbasierte Entscheidungen ausreichen
- Mit strukturierten Daten oder numerischen Vergleichen gearbeitet wird
- Schnelles, deterministisches Routing erforderlich ist

## Konfigurationsoptionen

### Inhalt/Prompt

Der Inhalt oder Prompt, den der Router analysiert, um Routing-Entscheidungen zu treffen. Dies kann sein:

- Eine direkte Benutzeranfrage oder -eingabe
- Ausgabe aus einem vorherigen Block
- Eine vom System generierte Nachricht

### Zielblöcke

Die möglichen Zielblöcke, aus denen der Router auswählen kann. Der Router erkennt automatisch verbundene Blöcke, aber Sie können auch:

- Die Beschreibungen der Zielblöcke anpassen, um die Routing-Genauigkeit zu verbessern
- Routing-Kriterien für jeden Zielblock festlegen
- Bestimmte Blöcke von der Berücksichtigung als Routing-Ziele ausschließen

### Modellauswahl

Wählen Sie ein KI-Modell für die Routing-Entscheidung:

**OpenAI**: GPT-4o, o1, o3, o4-mini, gpt-4.1  \
**Anthropic**: Claude 3.7 Sonnet \
**Google**: Gemini 2.5 Pro, Gemini 2.0 Flash \
**Andere Anbieter**: Groq, Cerebras, xAI, DeepSeek \
**Lokale Modelle**: Jedes Modell, das auf Ollama läuft 

<div className="w-full max-w-2xl mx-auto overflow-hidden rounded-lg">
  <Video src="models.mp4" width={500} height={350} />
</div>

**Empfehlung**: Verwenden Sie Modelle mit starken Reasoning-Fähigkeiten wie GPT-4o oder Claude 3.7 Sonnet für genauere Routing-Entscheidungen.

### API-Schlüssel

Ihr API-Schlüssel für den ausgewählten LLM-Anbieter. Dieser wird sicher gespeichert und für die Authentifizierung verwendet.

### Zugriff auf Ergebnisse

Nachdem ein Router eine Entscheidung getroffen hat, können Sie auf seine Ausgaben zugreifen:

- **`<router.prompt>`**: Zusammenfassung des verwendeten Routing-Prompts
- **`<router.selected_path>`**: Details zum ausgewählten Zielblock
- **`<router.tokens>`**: Token-Nutzungsstatistiken vom LLM
- **`<router.cost>`**: Kostenübersicht für den Routing-Aufruf (Eingabe, Ausgabe, Gesamt)
- **`<router.model>`**: Das für die Entscheidungsfindung verwendete Modell


## Beispielanwendungsfälle

### Kundensupport-Triage

<div className="mb-4 rounded-md border p-4">
  <h4 className="font-medium">Szenario: Support-Tickets an spezialisierte Abteilungen weiterleiten</h4>
  <ol className="list-decimal pl-5 text-sm">
    <li>Benutzer reicht Supportanfrage über Formular ein</li>
    <li>Router analysiert Ticket-Inhalt und Kontext</li>
    <li>Technische Probleme → Engineering-Support-Mitarbeiter</li>
    <li>Abrechnungsfragen → Finanz-Support-Mitarbeiter</li>
  </ol>
</div>

### Inhaltsklassifizierung

<div className="mb-4 rounded-md border p-4">
  <h4 className="font-medium">Szenario: Benutzergenerierte Inhalte klassifizieren und weiterleiten</h4>
  <ol className="list-decimal pl-5 text-sm">
    <li>Benutzer reicht Inhalt oder Feedback ein</li>
    <li>Router analysiert Inhaltstyp und Stimmung</li>
    <li>Feature-Anfragen → Produkt-Team-Workflow</li>
    <li>Fehlerberichte → Technischer Support-Workflow</li>
  </ol>
</div>

### Lead-Qualifizierung

<div className="mb-4 rounded-md border p-4">
  <h4 className="font-medium">Szenario: Leads basierend auf Qualifizierungskriterien weiterleiten</h4>
  <ol className="list-decimal pl-5 text-sm">
    <li>Lead-Informationen aus Formular erfasst</li>
    <li>Router analysiert Unternehmensgröße, Branche und Bedürfnisse</li>
    <li>Enterprise-Leads → Vertriebsteam mit individueller Preisgestaltung</li>
    <li>KMU-Leads → Self-Service-Onboarding-Prozess</li>
  </ol>
</div>

## Best Practices

- **Klare Zielbeschreibungen bereitstellen**: Helfen Sie dem Router zu verstehen, wann jedes Ziel mit spezifischen, detaillierten Beschreibungen ausgewählt werden soll
- **Spezifische Routing-Kriterien verwenden**: Definieren Sie klare Bedingungen und Beispiele für jeden Pfad, um die Genauigkeit zu verbessern
- **Fallback-Pfade implementieren**: Verbinden Sie ein Standardziel für Fälle, in denen kein spezifischer Pfad geeignet ist
- **Mit verschiedenen Eingaben testen**: Stellen Sie sicher, dass der Router verschiedene Eingabetypen, Grenzfälle und unerwartete Inhalte verarbeiten kann
- **Routing-Leistung überwachen**: Überprüfen Sie Routing-Entscheidungen regelmäßig und verfeinern Sie Kriterien basierend auf tatsächlichen Nutzungsmustern
- **Geeignete Modelle auswählen**: Verwenden Sie Modelle mit starken Argumentationsfähigkeiten für komplexe Routing-Entscheidungen
