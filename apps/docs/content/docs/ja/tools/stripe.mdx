---
title: Stripe
description: 決済処理とStripeデータの管理
---

import { BlockInfoCard } from "@/components/ui/block-info-card"

<BlockInfoCard 
  type="stripe"
  color="#635BFF"
  icon={true}
  iconSvg={`<svg className="block-icon"
      
      
      
      viewBox='0 0 360 151'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M360 78.0002C360 52.4002 347.6 32.2002 323.9 32.2002C300.1 32.2002 285.7 52.4002 285.7 77.8002C285.7 107.9 302.7 123.1 327.1 123.1C339 123.1 348 120.4 354.8 116.6V96.6002C348 100 340.2 102.1 330.3 102.1C320.6 102.1 312 98.7002 310.9 86.9002H359.8C359.8 85.6002 360 80.4002 360 78.0002ZM310.6 68.5002C310.6 57.2002 317.5 52.5002 323.8 52.5002C329.9 52.5002 336.4 57.2002 336.4 68.5002H310.6Z'
        fill='white'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M247.1 32.2002C237.3 32.2002 231 36.8002 227.5 40.0002L226.2 33.8002H204.2V150.4L229.2 145.1L229.3 116.8C232.9 119.4 238.2 123.1 247 123.1C264.9 123.1 281.2 108.7 281.2 77.0002C281.1 48.0002 264.6 32.2002 247.1 32.2002ZM241.1 101.1C235.2 101.1 231.7 99.0002 229.3 96.4002L229.2 59.3002C231.8 56.4002 235.4 54.4002 241.1 54.4002C250.2 54.4002 256.5 64.6002 256.5 77.7002C256.5 91.1002 250.3 101.1 241.1 101.1Z'
        fill='white'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M169.8 26.3001L194.9 20.9001V0.600098L169.8 5.9001V26.3001Z'
        fill='white'
      />
      <path d='M194.9 33.9001H169.8V121.4H194.9V33.9001Z' fill='white' />
      <path
        fill-rule='evenodd'
        clipRule='evenodd'
        d='M142.9 41.3001L141.3 33.9001H119.7V121.4H144.7V62.1001C150.6 54.4001 160.6 55.8001 163.7 56.9001V33.9001C160.5 32.7001 148.8 30.5001 142.9 41.3001Z'
        fill='white'
      />
      <path
        fill-rule='evenodd'
        clipRule='evenodd'
        d='M92.8999 12.2002L68.4999 17.4002L68.3999 97.5002C68.3999 112.3 79.4999 123.2 94.2999 123.2C102.5 123.2 108.5 121.7 111.8 119.9V99.6002C108.6 100.9 92.7999 105.5 92.7999 90.7002V55.2002H111.8V33.9002H92.7999L92.8999 12.2002Z'
        fill='white'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M25.3 59.3002C25.3 55.4002 28.5 53.9002 33.8 53.9002C41.4 53.9002 51 56.2002 58.6 60.3002V36.8002C50.3 33.5002 42.1 32.2002 33.8 32.2002C13.5 32.2002 0 42.8002 0 60.5002C0 88.1002 38 83.7002 38 95.6002C38 100.2 34 101.7 28.4 101.7C20.1 101.7 9.5 98.3002 1.1 93.7002V117.5C10.4 121.5 19.8 123.2 28.4 123.2C49.2 123.2 63.5 112.9 63.5 95.0002C63.4 65.2002 25.3 70.5002 25.3 59.3002Z'
        fill='white'
      />
    </svg>`}
/>

## 使用方法

ワークフローにStripeを統合します。決済意図、顧客、サブスクリプション、請求書、課金、商品、価格、イベントを管理できます。Stripeイベントが発生したときにワークフローをトリガーするトリガーモードでも使用できます。

## ツール

### `stripe_create_payment_intent`

支払いを処理するための新しいPayment Intentを作成する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `amount` | number | はい | セント単位の金額（例：$20.00の場合は2000） |
| `currency` | string | はい | 3文字のISO通貨コード（例：usd、eur） |
| `customer` | string | いいえ | この支払いに関連付ける顧客ID |
| `payment_method` | string | いいえ | 支払い方法ID |
| `description` | string | いいえ | 支払いの説明 |
| `receipt_email` | string | いいえ | 領収書を送信するメールアドレス |
| `metadata` | json | いいえ | 追加情報を保存するためのキーと値のペアのセット |
| `automatic_payment_methods` | json | いいえ | 自動支払い方法を有効にする（例：\{"enabled": true\}） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `payment_intent` | json | 作成されたPayment Intentオブジェクト |
| `metadata` | json | ID、ステータス、金額、通貨を含むPayment Intentのメタデータ |

### `stripe_retrieve_payment_intent`

IDで既存のPayment Intentを取得する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | Payment Intent ID（例：pi_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `payment_intent` | json | 取得したPayment Intentオブジェクト |
| `metadata` | json | Payment Intentのメタデータ（ID、ステータス、金額、通貨を含む） |

### `stripe_update_payment_intent`

既存のPayment Intentを更新する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | Payment Intent ID（例：pi_1234567890） |
| `amount` | number | いいえ | 更新された金額（セント単位） |
| `currency` | string | いいえ | 3文字のISO通貨コード |
| `customer` | string | いいえ | 顧客ID |
| `description` | string | いいえ | 更新された説明 |
| `metadata` | json | いいえ | 更新されたメタデータ |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `payment_intent` | json | 更新されたPayment Intentオブジェクト |
| `metadata` | json | Payment Intentのメタデータ（ID、ステータス、金額、通貨を含む） |

### `stripe_confirm_payment_intent`

決済を完了するためにPayment Intentを確定する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | Payment Intent ID（例：pi_1234567890） |
| `payment_method` | string | いいえ | 確定に使用する決済方法ID |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `payment_intent` | json | 確認済みのPayment Intentオブジェクト |
| `metadata` | json | ID、ステータス、金額、通貨を含むPayment Intentのメタデータ |

### `stripe_capture_payment_intent`

承認済みのPayment Intentをキャプチャする

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | Payment Intent ID（例：pi_1234567890） |
| `amount_to_capture` | number | いいえ | キャプチャする金額（セント単位、デフォルトは全額） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `payment_intent` | json | キャプチャされたPayment Intentオブジェクト |
| `metadata` | json | ID、ステータス、金額、通貨を含むPayment Intentのメタデータ |

### `stripe_cancel_payment_intent`

Payment Intentをキャンセルする

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | Payment Intent ID（例：pi_1234567890） |
| `cancellation_reason` | string | いいえ | キャンセルの理由（duplicate、fraudulent、requested_by_customer、abandoned） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `payment_intent` | json | キャンセルされたPayment Intentオブジェクト |
| `metadata` | json | ID、ステータス、金額、通貨を含むPayment Intentのメタデータ |

### `stripe_list_payment_intents`

すべての決済インテントを一覧表示

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |
| `customer` | string | いいえ | 顧客IDでフィルタリング |
| `created` | json | いいえ | 作成日でフィルタリング（例：\{"gt": 1633024800\}） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `payment_intents` | json | 決済インテントオブジェクトの配列 |
| `metadata` | json | 数とhas_moreを含むリストメタデータ |

### `stripe_search_payment_intents`

クエリ構文を使用して決済インテントを検索

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `query` | string | はい | 検索クエリ（例：\"status:'succeeded' AND currency:'usd'\"） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `payment_intents` | json | 一致する決済インテントオブジェクトの配列 |
| `metadata` | json | 数とhas_moreを含む検索メタデータ |

### `stripe_create_customer`

新しい顧客オブジェクトを作成

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `email` | string | いいえ | 顧客のメールアドレス |
| `name` | string | いいえ | 顧客のフルネーム |
| `phone` | string | いいえ | 顧客の電話番号 |
| `description` | string | いいえ | 顧客の説明 |
| `address` | json | いいえ | 顧客の住所オブジェクト |
| `metadata` | json | いいえ | キーと値のペアのセット |
| `payment_method` | string | いいえ | 添付する決済方法ID |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `customer` | json | 作成された顧客オブジェクト |
| `metadata` | json | 顧客メタデータ |

### `stripe_retrieve_customer`

IDで既存の顧客を取得する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 顧客ID（例：cus_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `customer` | json | 取得された顧客オブジェクト |
| `metadata` | json | 顧客メタデータ |

### `stripe_update_customer`

既存の顧客を更新する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 顧客ID（例：cus_1234567890） |
| `email` | string | いいえ | 更新されたメールアドレス |
| `name` | string | いいえ | 更新された名前 |
| `phone` | string | いいえ | 更新された電話番号 |
| `description` | string | いいえ | 更新された説明 |
| `address` | json | いいえ | 更新された住所オブジェクト |
| `metadata` | json | いいえ | 更新されたメタデータ |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `customer` | json | 更新された顧客オブジェクト |
| `metadata` | json | 顧客メタデータ |

### `stripe_delete_customer`

顧客を完全に削除する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 顧客ID（例：cus_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `deleted` | boolean | 顧客が削除されたかどうか |
| `id` | string | 削除された顧客のID |
| `metadata` | json | 削除メタデータ |

### `stripe_list_customers`

すべての顧客を一覧表示する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |
| `email` | string | いいえ | メールアドレスでフィルタリング |
| `created` | json | いいえ | 作成日でフィルタリング |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `customers` | json | 顧客オブジェクトの配列 |
| `metadata` | json | リストメタデータ |

### `stripe_search_customers`

クエリ構文を使用して顧客を検索する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `query` | string | はい | 検索クエリ（例："email:\'customer@example.com\'"） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `customers` | json | 一致する顧客オブジェクトの配列 |
| `metadata` | json | 検索メタデータ |

### `stripe_create_subscription`

顧客の新しいサブスクリプションを作成する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `customer` | string | はい | サブスクライブする顧客ID |
| `items` | json | はい | 価格IDを含むアイテムの配列（例：[{"price": "price_xxx", "quantity": 1}]） |
| `trial_period_days` | number | いいえ | トライアル日数 |
| `default_payment_method` | string | いいえ | 支払い方法ID |
| `cancel_at_period_end` | boolean | いいえ | 期間終了時にサブスクリプションをキャンセルする |
| `metadata` | json | いいえ | 追加情報を保存するためのキーと値のペアのセット |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `subscription` | json | 作成されたサブスクリプションオブジェクト |
| `metadata` | json | ID、ステータス、顧客を含むサブスクリプションメタデータ |

### `stripe_retrieve_subscription`

IDで既存のサブスクリプションを取得する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | サブスクリプションID（例：sub_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `subscription` | json | 取得したサブスクリプションオブジェクト |
| `metadata` | json | ID、ステータス、顧客を含むサブスクリプションメタデータ |

### `stripe_update_subscription`

既存のサブスクリプションを更新する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | サブスクリプションID（例：sub_1234567890） |
| `items` | json | いいえ | 価格IDを含む更新されたアイテムの配列 |
| `cancel_at_period_end` | boolean | いいえ | 期間終了時にサブスクリプションをキャンセルするかどうか |
| `metadata` | json | いいえ | 更新されたメタデータ |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `subscription` | json | 更新されたサブスクリプションオブジェクト |
| `metadata` | json | ID、ステータス、顧客を含むサブスクリプションメタデータ |

### `stripe_cancel_subscription`

サブスクリプションをキャンセルする

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | サブスクリプションID（例：sub_1234567890） |
| `prorate` | boolean | いいえ | キャンセルを按分するかどうか |
| `invoice_now` | boolean | いいえ | すぐに請求書を発行するかどうか |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `subscription` | json | キャンセルされたサブスクリプションオブジェクト |
| `metadata` | json | ID、ステータス、顧客を含むサブスクリプションメタデータ |

### `stripe_resume_subscription`

キャンセル予定のサブスクリプションを再開する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | サブスクリプションID（例：sub_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `subscription` | json | 再開されたサブスクリプションオブジェクト |
| `metadata` | json | ID、ステータス、顧客を含むサブスクリプションメタデータ |

### `stripe_list_subscriptions`

すべてのサブスクリプションを一覧表示する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |
| `customer` | string | いいえ | 顧客IDでフィルタリング |
| `status` | string | いいえ | ステータスでフィルタリング（active、past_due、unpaid、canceled、incomplete、incomplete_expired、trialing、all） |
| `price` | string | いいえ | 価格IDでフィルタリング |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `subscriptions` | json | サブスクリプションオブジェクトの配列 |
| `metadata` | json | リストメタデータ |

### `stripe_search_subscriptions`

クエリ構文を使用してサブスクリプションを検索する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `query` | string | はい | 検索クエリ（例："status:'active' AND customer:'cus_xxx'"） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `subscriptions` | json | 一致するサブスクリプションオブジェクトの配列 |
| `metadata` | json | 検索メタデータ |

### `stripe_create_invoice`

新しい請求書を作成する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `customer` | string | はい | 顧客ID（例：cus_1234567890） |
| `description` | string | いいえ | 請求書の説明 |
| `metadata` | json | いいえ | キーと値のペアのセット |
| `auto_advance` | boolean | いいえ | 請求書を自動確定する |
| `collection_method` | string | いいえ | 回収方法：charge_automaticallyまたはsend_invoice |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `invoice` | json | 作成された請求書オブジェクト |
| `metadata` | json | 請求書メタデータ |

### `stripe_retrieve_invoice`

IDで既存の請求書を取得する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 請求書ID（例：in_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `invoice` | json | 取得された請求書オブジェクト |
| `metadata` | json | 請求書メタデータ |

### `stripe_update_invoice`

既存の請求書を更新する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 請求書ID（例：in_1234567890） |
| `description` | string | いいえ | 請求書の説明 |
| `metadata` | json | いいえ | キーと値のペアのセット |
| `auto_advance` | boolean | いいえ | 請求書を自動確定する |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `invoice` | json | 更新された請求書オブジェクト |
| `metadata` | json | 請求書のメタデータ |

### `stripe_delete_invoice`

下書き請求書を完全に削除する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 請求書ID（例：in_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `deleted` | boolean | 請求書が削除されたかどうか |
| `id` | string | 削除された請求書のID |
| `metadata` | json | 削除のメタデータ |

### `stripe_finalize_invoice`

下書き請求書を確定する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 請求書ID（例：in_1234567890） |
| `auto_advance` | boolean | いいえ | 請求書を自動進行する |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `invoice` | json | 確定された請求書オブジェクト |
| `metadata` | json | 請求書のメタデータ |

### `stripe_pay_invoice`

請求書を支払う

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 請求書ID（例：in_1234567890） |
| `paid_out_of_band` | boolean | いいえ | 外部で支払われたとして請求書にマークする |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `invoice` | json | 支払われた請求書オブジェクト |
| `metadata` | json | 請求書のメタデータ |

### `stripe_void_invoice`

請求書を無効にする

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 請求書ID（例：in_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `invoice` | json | 無効にされた請求書オブジェクト |
| `metadata` | json | 請求書のメタデータ |

### `stripe_send_invoice`

請求書を顧客に送信する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 請求書ID（例：in_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `invoice` | json | 送信された請求書オブジェクト |
| `metadata` | json | 請求書のメタデータ |

### `stripe_list_invoices`

すべての請求書を一覧表示する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |
| `customer` | string | いいえ | 顧客IDでフィルタリング |
| `status` | string | いいえ | 請求書のステータスでフィルタリング |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `invoices` | json | 請求書オブジェクトの配列 |
| `metadata` | json | リストのメタデータ |

### `stripe_search_invoices`

クエリ構文を使用して請求書を検索する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `query` | string | はい | 検索クエリ（例："customer:\'cus_1234567890\'"） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `invoices` | json | 一致する請求書オブジェクトの配列 |
| `metadata` | json | 検索メタデータ |

### `stripe_create_charge`

支払いを処理するための新しい請求を作成する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `amount` | number | はい | セント単位の金額（例：$20.00の場合は2000） |
| `currency` | string | はい | 3文字のISO通貨コード（例：usd、eur） |
| `customer` | string | いいえ | この請求に関連付ける顧客ID |
| `source` | string | いいえ | 支払いソースID（例：カードトークンまたは保存されたカードID） |
| `description` | string | いいえ | 請求の説明 |
| `metadata` | json | いいえ | 追加情報を保存するためのキーと値のペアのセット |
| `capture` | boolean | いいえ | 請求を即時に確定するかどうか（デフォルトはtrue） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `charge` | json | 作成された請求オブジェクト |
| `metadata` | json | ID、ステータス、金額、通貨、支払い状況を含む請求メタデータ |

### `stripe_retrieve_charge`

IDで既存の請求を取得する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 請求ID（例：ch_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `charge` | json | 取得された請求オブジェクト |
| `metadata` | json | ID、ステータス、金額、通貨、支払い状況を含む請求メタデータ |

### `stripe_update_charge`

既存のチャージを更新する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | チャージID（例：ch_1234567890） |
| `description` | string | いいえ | 更新された説明 |
| `metadata` | json | いいえ | 更新されたメタデータ |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `charge` | json | 更新されたチャージオブジェクト |
| `metadata` | json | ID、ステータス、金額、通貨、支払い状況を含むチャージメタデータ |

### `stripe_capture_charge`

未キャプチャのチャージをキャプチャする

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | チャージID（例：ch_1234567890） |
| `amount` | number | いいえ | キャプチャする金額（セント単位、デフォルトは全額） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `charge` | json | キャプチャされたチャージオブジェクト |
| `metadata` | json | ID、ステータス、金額、通貨、支払い状況を含むチャージメタデータ |

### `stripe_list_charges`

すべてのチャージを一覧表示する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |
| `customer` | string | いいえ | 顧客IDでフィルタリング |
| `created` | json | いいえ | 作成日でフィルタリング（例：\{"gt": 1633024800\}） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `charges` | json | 課金オブジェクトの配列 |
| `metadata` | json | カウントやhas_moreを含むメタデータリスト |

### `stripe_search_charges`

クエリ構文を使用して課金を検索する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `query` | string | はい | 検索クエリ（例："status:'succeeded' AND currency:'usd'"） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `charges` | json | 一致する課金オブジェクトの配列 |
| `metadata` | json | カウントやhas_moreを含む検索メタデータ |

### `stripe_create_product`

新しい製品オブジェクトを作成する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `name` | string | はい | 製品名 |
| `description` | string | いいえ | 製品説明 |
| `active` | boolean | いいえ | 製品がアクティブかどうか |
| `images` | json | いいえ | 製品の画像URLの配列 |
| `metadata` | json | いいえ | キーと値のペアのセット |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `product` | json | 作成された商品オブジェクト |
| `metadata` | json | 商品メタデータ |

### `stripe_retrieve_product`

IDで既存の商品を取得する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 商品ID（例：prod_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `product` | json | 取得された商品オブジェクト |
| `metadata` | json | 商品メタデータ |

### `stripe_update_product`

既存の商品を更新する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 商品ID（例：prod_1234567890） |
| `name` | string | いいえ | 更新された商品名 |
| `description` | string | いいえ | 更新された商品説明 |
| `active` | boolean | いいえ | 更新されたアクティブステータス |
| `images` | json | いいえ | 更新された画像URL配列 |
| `metadata` | json | いいえ | 更新されたメタデータ |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `product` | json | 更新された商品オブジェクト |
| `metadata` | json | 商品メタデータ |

### `stripe_delete_product`

商品を完全に削除する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 商品ID（例：prod_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `deleted` | boolean | 商品が削除されたかどうか |
| `id` | string | 削除された商品のID |
| `metadata` | json | 削除メタデータ |

### `stripe_list_products`

すべての商品を一覧表示する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |
| `active` | boolean | いいえ | アクティブステータスでフィルタリング |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `products` | json | 商品オブジェクトの配列 |
| `metadata` | json | リストメタデータ |

### `stripe_search_products`

クエリ構文を使用して商品を検索する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `query` | string | はい | 検索クエリ（例："name:\'shirt\'"） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `products` | json | 一致する製品オブジェクトの配列 |
| `metadata` | json | 検索メタデータ |

### `stripe_create_price`

製品の新しい価格を作成する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `product` | string | はい | 製品ID（例：prod_1234567890） |
| `currency` | string | はい | 3文字のISO通貨コード（例：usd、eur） |
| `unit_amount` | number | いいえ | セント単位の金額（例：$10.00の場合は1000） |
| `recurring` | json | いいえ | 定期請求の設定（間隔：日/週/月/年） |
| `metadata` | json | いいえ | キーと値のペアのセット |
| `billing_scheme` | string | いいえ | 請求スキーム（per_unitまたはtiered） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `price` | json | 作成された価格オブジェクト |
| `metadata` | json | 価格メタデータ |

### `stripe_retrieve_price`

IDで既存の価格を取得する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 価格ID（例：price_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `price` | json | 取得された価格オブジェクト |
| `metadata` | json | 価格メタデータ |

### `stripe_update_price`

既存の価格を更新する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | 価格ID（例：price_1234567890） |
| `active` | boolean | いいえ | 価格がアクティブかどうか |
| `metadata` | json | いいえ | 更新されたメタデータ |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `price` | json | 更新された価格オブジェクト |
| `metadata` | json | 価格メタデータ |

### `stripe_list_prices`

すべての価格を一覧表示する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |
| `product` | string | いいえ | 製品IDでフィルタリング |
| `active` | boolean | いいえ | アクティブステータスでフィルタリング |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `prices` | json | 価格オブジェクトの配列 |
| `metadata` | json | リストメタデータ |

### `stripe_search_prices`

クエリ構文を使用して価格を検索する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `query` | string | はい | 検索クエリ（例："active:'true' AND currency:'usd'"） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `prices` | json | 一致する価格オブジェクトの配列 |
| `metadata` | json | 検索メタデータ |

### `stripe_retrieve_event`

IDで既存のイベントを取得する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `id` | string | はい | イベントID（例：evt_1234567890） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `event` | json | 取得したイベントオブジェクト |
| `metadata` | json | ID、タイプ、作成タイムスタンプを含むイベントメタデータ |

### `stripe_list_events`

すべてのイベントを一覧表示する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `apiKey` | string | はい | Stripe APIキー（シークレットキー） |
| `limit` | number | いいえ | 返す結果の数（デフォルト10、最大100） |
| `type` | string | いいえ | イベントタイプでフィルタリング（例：payment_intent.created） |
| `created` | json | いいえ | 作成日でフィルタリング（例：\{"gt": 1633024800\}） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `events` | json | イベントオブジェクトの配列 |
| `metadata` | json | 数とhas_moreを含むリストメタデータ |

## 注意事項

- カテゴリー: `tools`
- タイプ: `stripe`
