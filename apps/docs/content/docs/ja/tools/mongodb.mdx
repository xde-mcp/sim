---
title: MongoDB
description: MongoDBデータベースに接続する
---

import { BlockInfoCard } from "@/components/ui/block-info-card"

<BlockInfoCard 
  type="mongodb"
  color="#E0E0E0"
/>

## 使用方法

MongoDBをワークフローに統合します。データの検索、挿入、更新、削除、集計が可能です。

## ツール

### `mongodb_query`

MongoDB コレクションに対して検索操作を実行

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `host` | string | はい | MongoDBサーバーのホスト名またはIPアドレス |
| `port` | number | はい | MongoDBサーバーのポート（デフォルト: 27017） |
| `database` | string | はい | 接続先のデータベース名 |
| `username` | string | いいえ | MongoDBのユーザー名 |
| `password` | string | いいえ | MongoDBのパスワード |
| `authSource` | string | いいえ | 認証データベース |
| `ssl` | string | いいえ | SSL接続モード（disabled, required, preferred） |
| `collection` | string | はい | クエリを実行するコレクション名 |
| `query` | string | いいえ | JSON文字列形式のMongoDBクエリフィルター |
| `limit` | number | いいえ | 返すドキュメントの最大数 |
| `sort` | string | いいえ | JSON文字列形式のソート条件 |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `message` | string | 操作のステータスメッセージ |
| `documents` | array | クエリから返されたドキュメントの配列 |
| `documentCount` | number | 返されたドキュメントの数 |

### `mongodb_insert`

MongoDBコレクションにドキュメントを挿入

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `host` | string | はい | MongoDBサーバーのホスト名またはIPアドレス |
| `port` | number | はい | MongoDBサーバーのポート（デフォルト: 27017） |
| `database` | string | はい | 接続先のデータベース名 |
| `username` | string | いいえ | MongoDBのユーザー名 |
| `password` | string | いいえ | MongoDBのパスワード |
| `authSource` | string | いいえ | 認証データベース |
| `ssl` | string | いいえ | SSL接続モード（disabled, required, preferred） |
| `collection` | string | はい | 挿入先のコレクション名 |
| `documents` | array | はい | 挿入するドキュメントの配列 |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `message` | string | 操作ステータスメッセージ |
| `documentCount` | number | 挿入されたドキュメント数 |
| `insertedId` | string | 挿入されたドキュメントのID（単一挿入） |
| `insertedIds` | array | 挿入されたドキュメントIDの配列（複数挿入） |

### `mongodb_update`

MongoDBコレクション内のドキュメントを更新する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `host` | string | はい | MongoDBサーバーのホスト名またはIPアドレス |
| `port` | number | はい | MongoDBサーバーのポート（デフォルト：27017） |
| `database` | string | はい | 接続先のデータベース名 |
| `username` | string | いいえ | MongoDBユーザー名 |
| `password` | string | いいえ | MongoDBパスワード |
| `authSource` | string | いいえ | 認証データベース |
| `ssl` | string | いいえ | SSL接続モード（disabled、required、preferred） |
| `collection` | string | はい | 更新するコレクション名 |
| `filter` | string | はい | JSON文字列としてのフィルター条件 |
| `update` | string | はい | JSON文字列としての更新操作 |
| `upsert` | boolean | いいえ | ドキュメントが見つからない場合に作成する |
| `multi` | boolean | いいえ | 複数のドキュメントを更新する |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `message` | string | 操作ステータスメッセージ |
| `matchedCount` | number | フィルターに一致したドキュメント数 |
| `modifiedCount` | number | 変更されたドキュメント数 |
| `documentCount` | number | 影響を受けたドキュメントの総数 |
| `insertedId` | string | 挿入されたドキュメントのID（upsertの場合） |

### `mongodb_delete`

MongoDBコレクションからドキュメントを削除する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `host` | string | はい | MongoDBサーバーのホスト名またはIPアドレス |
| `port` | number | はい | MongoDBサーバーのポート（デフォルト：27017） |
| `database` | string | はい | 接続先のデータベース名 |
| `username` | string | いいえ | MongoDBユーザー名 |
| `password` | string | いいえ | MongoDBパスワード |
| `authSource` | string | いいえ | 認証データベース |
| `ssl` | string | いいえ | SSL接続モード（disabled、required、preferred） |
| `collection` | string | はい | 削除対象のコレクション名 |
| `filter` | string | はい | フィルター条件（JSON文字列） |
| `multi` | boolean | いいえ | 複数のドキュメントを削除する |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `message` | string | 操作ステータスメッセージ |
| `deletedCount` | number | 削除されたドキュメント数 |
| `documentCount` | number | 影響を受けたドキュメントの総数 |

### `mongodb_execute`

MongoDB集計パイプラインを実行する

#### 入力

| パラメータ | 型 | 必須 | 説明 |
| --------- | ---- | -------- | ----------- |
| `host` | string | はい | MongoDBサーバーのホスト名またはIPアドレス |
| `port` | number | はい | MongoDBサーバーのポート（デフォルト：27017） |
| `database` | string | はい | 接続先のデータベース名 |
| `username` | string | いいえ | MongoDBユーザー名 |
| `password` | string | いいえ | MongoDBパスワード |
| `authSource` | string | いいえ | 認証データベース |
| `ssl` | string | いいえ | SSL接続モード（disabled、required、preferred） |
| `collection` | string | はい | パイプラインを実行するコレクション名 |
| `pipeline` | string | はい | 集計パイプライン（JSON文字列） |

#### 出力

| パラメータ | 型 | 説明 |
| --------- | ---- | ----------- |
| `message` | string | 操作ステータスメッセージ |
| `documents` | array | 集計から返されたドキュメントの配列 |
| `documentCount` | number | 返されたドキュメントの数 |

## 注意事項

- カテゴリー: `tools`
- タイプ: `mongodb`
